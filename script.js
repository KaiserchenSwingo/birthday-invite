(function(){const PIN_HASH='93e2a45037eb149bd13e633f2cdd848b0caaa04a4f048df7c49de10fb41a3d16',KEY='invite-unlocked-v1',app=document.getElementById('app'),gate=document.getElementById('gate'),form=document.getElementById('gate-form'),input=document.getElementById('gate-input'),error=document.getElementById('gate-error');function showApp(){gate&&gate.classList.add('hidden');if(gate)gate.style.display='none';app&&app.classList.remove('hidden')}async function sha256Hex(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest('SHA-256',t);return[...new Uint8Array(n)].map(e=>e.toString(16).padStart(2,'0')).join('')}try{localStorage.getItem(KEY)==='1'&&showApp()}catch(e){}form&&(form.setAttribute('novalidate','true'),form.addEventListener('submit',async e=>{e.preventDefault(),error&&(error.textContent='');const t=(input.value||'').trim();if(!t)return;try{await sha256Hex(t)===PIN_HASH?(localStorage.setItem(KEY,'1'),showApp()):(error&&(error.textContent='Falscher PIN. Versuch es bitte nochmal.'),input.focus(),input.select())}catch(e){error&&(error.textContent='Dein Browser unterstützt diese Funktion nicht.')}return!1}));const target=new Date('2025-12-21T19:00:00+01:00'),el=document.getElementById('countdown');function update(){if(!el)return;const e=target-new Date;if(e<=0){el.textContent='Es geht los!';return}const t=Math.floor(e/864e5),n=Math.floor(e/36e5)%24,o=Math.floor(e/6e4)%60;el.textContent=`${t} Tage, ${n} Std, ${o} Min`}update(),setInterval(update,6e4)})();(function(){const e=document.getElementById('rsvp-form');if(!e)return;const t=document.getElementById('rsvp-status'),n=document.getElementById('rsvp-submit'),o=document.getElementById('thanks'),a=document.getElementById('confetti');function s(){if(!a)return;a.innerHTML='';const e=['#FF3CAC','#2BD2FF','#8266FF','#F3F4F6','#C9CDD3'],t=90;for(let n=0;n<t;n++){const t=document.createElement('span');t.className='p';const o=6+10*Math.random();t.style.width=`${o}px`,t.style.height=`${1.4*o}px`,t.style.left=`${100*Math.random()}%`,t.style.top='-10%',t.style.background=e[Math.floor(Math.random()*e.length)],t.style.transform=`translateY(0) rotate(${360*Math.random()}deg)`,t.style.animationDuration=`${3+2.2*Math.random()}s`,t.style.animationDelay=`${.6*Math.random()}s`,a.appendChild(t)}}function d(){e.querySelectorAll('input, select, textarea, button').forEach(e=>{e.disabled=!0}),e.classList.add('success'),o&&o.setAttribute('aria-hidden','false'),s()}e.addEventListener('submit',async o=>{o.preventDefault(),t&&(t.textContent='Sende …'),n&&(n.disabled=!0);try{const o=await fetch(e.action,{method:'POST',body:new FormData(e),headers:{Accept:'application/json'}});o.ok?(t&&(t.textContent=''),e.reset(),d()):t&&(t.textContent='Uff, da ging was schief. Versuch es später erneut.')}catch(e){t&&(t.textContent='Keine Verbindung. Prüfe kurz dein Internet.')}finally{n&&(n.disabled=!1)}})})();